#include <stdio.h>
int main()
{
    int a[4], b[4];
    int n, c, d, e, f, i, j;
    printf("请输入一个四位整数：");
    scanf("%d", &n);
    a[1] = n%10;
    a[2] = ((n - a[1])%100)/10;
    a[3] = ((n - a[1] - a[2])%1000)/100;
    a[4] = (n - a[1] - a[2] - a[3])/1000;
   
    if(a[1] == a[2] && a[3]== a[4] && a[2] == a[3])
      printf("%d - %d = 0000\n", n, n);
    else
      {
        e = n;
        do
        {
          b[1] = e%10;
          b[2] = ((e - b[1])%100)/10;
          b[3] = ((e - b[1] - b[2])%1000)/100;
          b[4] = (e - b[1] - b[2] - b[3])/1000;
         
	  for(i = 1; i < 4; i++)
             for(j = 1; j < 4 - i; j++)
             if( b[i] < b[i+1])
             {
               f = b[i];
               b[i] = b[i+1];
               b[i+1] = f;
             }
 
          c = b[1] *1000 + b[2] * 100 +b[3] * 10 +b [4];
          d = b[4] *1000 + b[3] * 100 +b[2] * 10 +b [1];
          e = c - d;
          printf("%d%d%d%d - %d%d%d%d = %d\n", b[1] , b[2] , b[3], b[4], b[4], b[3], b[2], b[1], e);
         }
        while(e != 6174);
       }
    return 0;
}
